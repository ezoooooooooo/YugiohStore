@model User

<h2>Register New Account</h2>

<form method="post" asp-action="Register">
    <div>
        <label for="username">Username:</label>
        <input id="username" asp-for="Username" required />
        @if (ViewBag.UsernameError != null)
        {
            <div class="error">@ViewBag.UsernameError</div>
        }
    </div>
    
    <div>
        <label for="password">Password:</label>
        <input id="password" asp-for="Password" type="password" required />
        @if (ViewBag.PasswordError != null)
        {
            <div class="error">@ViewBag.PasswordError</div>
        }
    </div>

    @if (Context.Session.GetString("Role") == "Admin")
    {
        <div>
            <label for="role">Role:</label>
            <select id="role" asp-for="Role">
                <option value="User">User</option>
                <option value="Admin">Admin</option>
            </select>
        </div>
    }

    <button type="submit">Register</button>
</form>

@if (!string.IsNullOrEmpty(ViewBag.Error))
{
    <p class="error">@ViewBag.Error</p>
}
